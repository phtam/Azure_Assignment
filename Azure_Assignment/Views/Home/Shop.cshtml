@model PagedList.IPagedList<Azure_Assignment.ViewModels.ProductViewModel>
@using PagedList.Mvc;
@{
    ViewBag.Title = "Shop";
    ViewBag.Breadcrumb = "Shop";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var categoriesList = (List<Azure_Assignment.ViewModels.CategoryViewModel>)ViewBag.Categories_List;
    var supplierlist = (List<Azure_Assignment.EF.Suppliers>)ViewBag.Suppliers_List;

}


@Html.Partial("Breadcrumb")

<section class="shop spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-3">
                <div class="shop__sidebar">
                    <div class="sidebar__categories">
                        <div class="section-title">
                            <h4>Categories</h4>
                        </div>
                        <div class="categories__accordion">
                            <div class="accordion" id="accordionExample">
                                @{
                                    if (ViewBag.Categories_List != null)
                                    {
                                        foreach (var item in categoriesList)
                                        {
                                            <div class="card">
                                                <a href="category-@item.CategoryID">@item.CategoryName</a>
                                            </div>
                                        }
                                    }
                                }
                            </div>
                        </div>
                    </div>
                    <div class="sidebar__sizes">
                        <div class="section-title">
                            <h4>Shop by brands</h4>
                        </div>
                        <div class="size__list">
                            @{
                                foreach (var item in supplierlist)
                                {
                                    <label for="xxs-@item.SupplierID">
                                        @item.CompanyName
                                        <input type="checkbox" id="xxs-@item.SupplierID">
                                        <span class="checkmark"></span>
                                    </label>
                                }
                            }
                        </div>
                    </div>
                    <div class="sidebar__color">
                        <div class="section-title">
                            <h4>Shop by size</h4>
                        </div>
                        <div class="size__list color__list">
                            <label for="black">
                                Blacks
                                <input type="checkbox" id="black">
                                <span class="checkmark"></span>
                            </label>
                            <label for="whites">
                                Whites
                                <input type="checkbox" id="whites">
                                <span class="checkmark"></span>
                            </label>
                            <label for="reds">
                                Reds
                                <input type="checkbox" id="reds">
                                <span class="checkmark"></span>
                            </label>
                            <label for="greys">
                                Greys
                                <input type="checkbox" id="greys">
                                <span class="checkmark"></span>
                            </label>
                            <label for="blues">
                                Blues
                                <input type="checkbox" id="blues">
                                <span class="checkmark"></span>
                            </label>
                            <label for="beige">
                                Beige Tones
                                <input type="checkbox" id="beige">
                                <span class="checkmark"></span>
                            </label>
                            <label for="greens">
                                Greens
                                <input type="checkbox" id="greens">
                                <span class="checkmark"></span>
                            </label>
                            <label for="yellows">
                                Yellows
                                <input type="checkbox" id="yellows">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-9 col-md-9">
                <div class="row">
                    @{
                        foreach (var item in Model)
                        {
                            <div class="col-lg-4 col-md-6">
                                <div class="product__item">
                                    <div class="product__item__pic set-bg" data-setbg="@item.Thumbnail">
                                        <div class="label new">New</div>
                                        <ul class="product__hover">
                                            <li><a href="@item.Thumbnail" class="image-popup"><span class="arrow_expand"></span></a></li>
                                            <li><a href="#"><span class="icon_heart_alt"></span></a></li>
                                            <li><a href="~/add-to-cart?productID=@item.ProductID&quantity=1"><span class="icon_bag_alt"></span></a></li>
                                        </ul>
                                    </div>
                                    <div class="product__item__text">
                                        <h6><a href="#">@item.ProductName</a></h6>
                                        <div class="rating">
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        </div>
                                        <div class="product__price">
                                            <script>document.write((@item.UnitPrice).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,').slice(0, -3));</script> VND
                                        </div>
                                        <div style="text-decoration: line-through; font-size:small">
                                            <script>document.write((@item.OldUnitPrice).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,').slice(0, -3));</script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    }

                    <br />
                    <div class="col-lg-12 text-center">
                        <div class="pagination__option" style="display:inline-block; vertical-align:middle;">
                            @Html.PagedListPager(Model, page => Url.Action("Shop",
                            new { id = ViewBag.CurrentCategory, page }))
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section ClientScript{
    @foreach (var item in supplierlist)
    {
        <script>
            $(document).ready(function () {

                $('#xxs-@item.SupplierID').val(this.checked);

                $('#xxs-@item.SupplierID').change(function () {

                });
            });
        </script>
    }


}